with lap as(
select min(code) as code, model, max(speed) as speed, 2*max(ram) as ram, 2*max(hd) as hd, max(price)/1.5 as price
from laptop a
where 1<(select count(b.model) from laptop b where a.model=b.model group by model)
group by model
union
select code, model, speed, 2*ram as ram, 2*hd as hd, price/1.5 as price
from laptop a
where 1=(select count(b.model) from laptop b where a.model=b.model group by model)
)
insert into PC
select code+20 as code, cast(cast(model as int)+1000 as varchar) as model, speed, ram, hd, (
select cd from PC where cast(replace(cd,'x','')as int)=(
select max(cast(replace(cd,'x','')as int)) from PC
)
), price
from lap
